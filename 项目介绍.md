# 整体概览
- 项目是一个基于 React 18、Vite 与 TailwindCSS 的单页应用，使用 `pnpm` 管理脚本并通过 GitHub Pages 发布，对应主页配置见 `package.json:1`。
- 入口位于 `src/main.jsx`，负责挂载 `<App />` 并加载全局样式；`App` 组件根据上下文的 `activeView` 切换页面片段，同时处理加载与错误态。
- 项目结构遵循仓库约定：组件放在 `src/components/`，全局状态在 `src/context/`，远程服务封装在 `src/services/`，业务逻辑类与工具位于 `src/utils/`，静态数据置于 `public/data/`。

# 核心状态与数据流
- `AppContext` 用 `useReducer` 管理全局状态：语法单元列表、当前单元/语法点、练习会话、当前视图以及薄弱点管理器 (`src/context/AppContext.jsx:8`)。
- 初始化时创建 `UnitManager` 拉取 `public/data/grammarPoints.json`，并将每个单元包装为 `Unit` 实例供前端展示 (`src/context/AppContext.jsx:66`; `src/utils/UnitManager.js:24`)。
- `Unit` 在构造时解析语法点文本并抽取示例句，方便前端直接渲染 (`src/utils/Unit.js:12`)。

# 界面与交互
- `UnitSelectionView` 展示全部语法单元卡片，点击后切换到语法点视图 (`src/components/UnitSelectionView.jsx:4`)。
- `GrammarPointsView` 在单元维度下列出语法点，支持调整题量并调用 AI 生成练习 (`src/components/GrammarPointsView.jsx:5`)。
- `ExerciseSessionView` 管理练习作答、跳题与提交流程，并在提交结果后写入薄弱点记录 (`src/components/ExerciseSessionView.jsx:5`)。
- `ResultsView` 展示成绩概览和错题解析，可返回单元或跳转至薄弱点专项练习 (`src/components/ResultsView.jsx:4`)。
- `WeakPointsView` 读取 `WeaknessManager` 的本地记录，支持批量删除与再次练习 (`src/components/WeakPointsView.jsx:5`)。
- `Header` 依据 `activeView` 高亮导航项，`Footer` 提供版权信息 (`src/components/Header.jsx:4`; `src/components/Footer.jsx:4`)。

# 练习流程与薄弱点管理
- `ExerciseSession` 封装题目导航、答案提交、错题解析调用逻辑；客观题本地判分，主观题依赖 API (`src/utils/ExerciseSession.js:13`)。
- `Exercise` 定义题目字段与各题型判分策略 (`src/utils/Exercise.js:13`)。
- `WeaknessManager` 使用 `localStorage` 持久化用户薄弱语法点，记录错误次数与最近练习时间，并提供批量删除、状态检查等方法 (`src/utils/WeaknessManager.js:8`)。

# 外部服务与安全注意事项
- `ApiService` 封装对百度智能体的题目生成、主观题批改与错题解析接口调用，包含对 Markdown/JSON 响应的容错解析 (`src/services/apiService.js:10`)。
- 当前 AppID 与 SecretKey 直接硬编码在仓库中，需按仓库安全指南迁移到 `.env`（Vite `VITE_` 前缀）并避免泄露敏感凭据。

# 开发脚本
- `pnpm run dev` 启动开发服务器，`build` 生成生产构建，`preview` 预览打包产物，`lint` 执行 ESLint 检查；`deploy` 通过 `gh-pages` 将最新构建发布到 GitHub Pages (`package.json:7`)。

# 后续建议
1. 将 API 密钥迁移至环境变量并更新文档。
2. 为出题、判分等关键流程补充 Vitest/RTL 测试，保证基本回归覆盖。
3. 清理未使用的依赖（如 `@mui/material`、`@supabase/supabase-js`）或按需实现对应功能，保持依赖树精简。
